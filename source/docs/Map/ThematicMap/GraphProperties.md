---
title: 修改统计专题图
---


通过设置属性面板中的统计图类型、显示风格、标注等参数，可优化统计专题图的显示效果。统计专题图主要分为属性和高级两大类，具体说明如下：

### 属性


**统计图类型**：应用程序提供了11种统计图供用户选择：折线图、点状图、柱状图、三维柱状图、饼状图、三维饼状图、玫瑰图、三维玫瑰图、堆叠柱状图、三维堆叠柱状图、环状图。用户可制图需求进行选择。
 
**统计值计算方法**：用于确定统计图的大小以及统计图中各专题变量所占的比例。系统提供了3种统计值计算方法：常量、对数和平方根。对于有值为负数的字段，不可以选择对数和平方根的统计值计算方法。 
- 常量：按属性表中原始数值的线性比例进行分级运算。 
- 对数：按属性表中原始数值自然对数的线性比例进行分级运算。 
- 平方根：按属性表中原始数值平方根的线性比例进行分级运算。 

**添加或移除字段**：统计专题图可以通过统计图表达一个或多个字段值。用户可通过工具栏中的“添加”按钮添加统计字段，也可通过“移除”按钮移除当前统计专题图统计字段。当前统计专题图将实时根据修改后的专题变量重新进行配图，并刷新显示效果。 
- 添加字段： 点击工具栏的“添加”按钮  的下拉按钮，在弹出的该专题图图层的所有字段列表中（如下图所示），点击需要添加的统计字段前面的方框，或者是点击字段列表中“表达式…”项，在弹出的“SQL 表达式”对话框中构建字段表达式作为统计专题图的统计字段。  

- 移除字段：在“属性”选项卡下部的统计字段列表中，选中需要移除的一条或多条统计字段，单击工具栏的“移除”按钮  ，即可移除不需要的统计字段。 
- 上下移动字段： 用户可通过“属性”选项卡中部的工具栏中的置顶、上移、下移、置底 4 个移动字段的按钮，更改列表框中选中字段在列表中的位置。字段在列表框中的位置会影响其在制作的统计专题图中的位置。 

**统计图风格设置**：通过“属性”选项卡中部的工具栏中风格设置按钮，或单击字段列表中每个字段中的风格设置按钮，设置统计图的风格样式。 


### 高级


“**选项**”区域：该区域用来调整和控制统计专题图中统计符号的显示。
 
 - **流动显示**：选中该复选框，则专题图的渲染风格可以流动显示，即统计图会随着地图窗口的变化而移动以达到全部显示的优化效果。当开启流动显示效果时，请勿使用局部刷新功能，否则会导致局部刷新效果显示不正确。
 - **自动避让**：选中该复选框，可以使地图上的统计图在一定范围内自动调整，达到使统计图同时显示而不互相重叠和影响。
 - **显示负值数据**：选中该复选框，可以在地图上显示显示属性为负值的对象对应的统计图。
 - **统计符号随图缩放**：选中该复选框，可以使统计符号随着地图的缩放而放大或缩小；否则所有统计符号都会按照对话框的参数设置固定显示大小，不随着地图的缩放改变大小。
 - **显示牵引线**：可设置当专题图偏移其所表达的对象时，将两者之间用牵引线连接。若勾选“流动显示”复选框，则“显示牵引线”复选框为可勾选状态。选中该复选框，右侧的“线型风格”按钮为可用状态，点击该按钮，可在弹出的“符号库管理”窗口中设置牵引线的风格。 

“**显示大小设置**”区域：设置统计专题图统计符号显示的基准值，包括最大基准值与最小基准值，所有统计图的显示大小均在最大、最小值之间逐渐变化。应用程序会自动计算合适的最大值和最小值。当选择“随图缩放”时，基准值的单位为与地图单位保持一致；当没有选择“随图缩放”时，基准值的单位为0.01mm。

- **最大显示值**：设置最大统计对象的统计符号的显示大小。当专题图类型为饼图、三维饼图、玫瑰图、三维玫瑰图、环状图时，统计图的直径取最大显示值的四分之一；其它类型的统计专题图，如柱状图、面积图等，统计图的高度取最大显示值的四分之一。其它统计符号，依据最大和最小统计符号按比例进行绘制。
- **最小显示值**：设置最小统计对象的统计符号的显示大小。当专题图类型为饼图、三维饼图、玫瑰图、三维玫瑰图、环状图时，统计图的直径取最小显示值的四分之一；其它类型的统计专题图，如柱状图、面积图等，统计图的高度取最小显示值的四分之一。其它统计符号，依据最大和最小统计符号按比例进行绘制。 

“**偏移参数设置**”区域：用于设置统计专题图中统计图对象的锚点相对于其所标注的对象的内点的偏移程度。 

- **水平偏移量**：该标签右侧的文本框用来设置统计图对象的锚点相对于其所表达的对象的内点的水平偏移量。可点击文本框右侧的下拉按钮，选择某个数值型字段作为水平偏移量，也可直接在文本框中输入水平偏移的数值。 
- **垂直偏移量**：该标签右侧的文本框用来设置统计图对象的锚点相对于其所表达的对象的内点的垂直偏移量。可点击文本框右侧的下拉按钮，选择某个数值型字段作为垂直偏移量，也可直接在文本框中输入垂直偏移的数值。 
- **偏移单位**：该标签右侧的下拉按钮用来设置偏移量数值的单位。点击该下拉按钮，在弹出的下拉菜单中，系统提供“坐标系单位”和“0.1毫米”两种偏移单位供用户选择。“0.1毫米”，表明符号的偏移量以0.1毫米为单位；“坐标系单位”，则所设置的偏移量与地图坐标系的单位保持一致。 

“**统计图注记**”区域：可设置是否显示统计图上的文本标注。若需要添加统计图注记，选中该复选框，“标注格式”组合框和“标注风格”按钮为可用状态，用户可以设置统计专题图文本显示格式以及文字标注风格。

- **标注格式**：系统提供的统计专题图文本显示格式有5种：百分数、真实值、标题、标题 + 百分数、标题 + 真实值。用户可根据需要选择当前统计图上标注的文本格式。
- **标注风格**：设置当前统计图上标注文本的风格。用户可通过单击该标签右侧的按钮，在弹出的文本风格对话框中设置统计图文本标注的风格。具体参见：修改统一风格标签专题图的风格。 

“**坐标轴**”区域：可设置是否显示坐标轴，若显示，可勾选该复选框，为统计图添加坐标，并对坐标轴进行丰富。“坐标轴”复选框仅对面积图、阶梯图、折线图、点状图、柱状图、三维柱状图、堆叠柱状图、三维堆叠柱状图可用。

- **坐标轴颜色**：设置当前统计专题图的坐标轴颜色。点击该标签右侧的按钮，弹出颜色面板，可以选择和设置合适的坐标轴颜色。
- **标注模式**：该标签右侧的下拉按钮用于显示和设置当前统计图坐标轴标注的显示模式，分为：不显示、仅显示横轴标注、仅显示纵轴标注、全部显示4种显示模式。默认的标注模式为全部显示。
- **标注风格**：该标签右侧的文本风格设置按钮用于设置坐标轴标注的文本风格。选中该复选框，右侧按钮为可用状态，单击后可在弹出的文本风格对话框中设置坐标文本的风格。具体参见：修改统一风格标签专题图的风格。
- **坐标轴格网**：该复选框可选择是否显示坐标轴格网。 

**柱状图风格**

- **柱宽度**： 用于设置柱状统计图每一个柱的宽度，默认值为当前柱状图最大宽度的一半。用户可在该标签右侧的数字显示框中设置所需的柱状图宽度，数值可以在0与最大宽度之间进行，否则设置无效。单位与地图相同。该标签仅对柱状图、三维柱状图、堆叠柱状图、三维堆叠柱状图起效。

**玫瑰图、饼图风格**：用来设置玫瑰图和饼图的起始角度，以及玫瑰图的角度。 

- **起始角度**：设置饼/玫瑰统计图的起始角度，默认为水平正向。该标签仅对饼图、三维饼图、玫瑰图、三维玫瑰图起效。 
- **玫瑰角度**：设置统计图中玫瑰图或三维玫瑰图分片的角度，默认为0。在角度为 0 或者大于 360 度的情况下均使用360度来等分制作统计图的字段数。 
在“统计专题图”窗口中的各项参数设置都会实时反映到当前地图窗口中相应的专题图图层，即实现所见即所得。用户也可以通过取消勾选对话框底部的“启用即时刷新”复选框，不启用实时刷新。若不勾选“启用即时刷新”复选框，则用户完成各项参数设置后，可点击对话框底部的“应用”按钮，将对话框中的参数设置应用于当前专题图。

