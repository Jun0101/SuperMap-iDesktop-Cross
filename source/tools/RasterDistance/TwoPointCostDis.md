---
title: 计算两点最小耗费路径
---

　　两点最短路径根据参数设置的不同，可分为两种不同的情况。

 - 只指定 DEM 栅格而未指定耗费栅格，即源数据为 DEM 栅格数据，则计算得到的结果为表面距离最短路径，可以通过计算两点最短地表路径功能实现。具体内容请参见下文的介绍。 
 - 只指定耗费栅格而未指定 DEM 栅格，即源数据为耗费数据，则计算得到的结果为最小耗费路径，可以通过计算两点最小耗费路径功能实现。 


　　下图为源点和目标点相同的情况下，计算两点最短地表路径和两点最小耗费路径的对比结果。如图例所示，蓝色点为计算路径的起始点和终止点，Path1为只指定 DEM 栅格计算得到的表面距离最短路径；Path2为只指定耗费栅格得到的最小耗费路径。

　　![](img/PointPath.png)

### 使用说明

　　计算指定的源和目标点之间（两个点）的最小耗费路径，即沿耗费栅格表面的最短路径。


### 操作说明

1. 计算距离栅格的功能入口有以下两个：
 - 在“空间分析”选项卡的“栅格分析”组中，单击“距离栅格”下拉按钮，选择“两点最短地表路径”选项。
  - 在工具箱的“栅格分析”-“距离栅格”选项中，双击“两点最短地表路径”选项，或将该选项拖入可视化建模的画布中。

2. **耗费数据**：计算距离时使用的耗费栅格。耗费栅格用于确定经过每个单元格所需的成本。
3. **坐标**：在源点和目标点的X、Y坐标数值框中，分别输入源点和目标点的X、Y坐标值，可先在地图窗口中拾取了坐标点，然后单击“键入源点”或“键入目标点”将鼠标拾取到的坐标值粘贴为。 
4. **光滑方法**：提供两种光滑处理的方法，“B样条法”和“磨角法”。。 
5. **光滑系数**：光滑系数的取值与光滑方法有关，当光滑方法为 B 样条法时，光滑系数的值小于 2 时将不会进行光滑；当采用磨角法时，光滑系数的值设置为大于等于 1 时有效。一般来说，光滑系数的值越大，则光滑度越高。 
6. **结果数据**：选择结果数据要保存的数据源，并指定结果数据集名称。
7. 设置好以上参数后，单击“执行”按钮，即可计算两点间的最小耗费路径。该例以 DEM 栅格的坡度的重分级结果作为耗费栅格，分析给定的源点和目标点之间的最小耗费路径。

![](img/CostPathLine.png)

### 注意事项

　　耗费数据中的栅格值必须都大于 0，才能分析成功，若耗费栅格数据中存在栅格值小于 0 的栅格，则会分析失败。

### 相关主题  
 
　　![](../img/smalltitle.png) [距离栅格概述](AboutRasterDistance.html)  

　　![](../img/smalltitle.png) [生成距离栅格](CreateRasterDistance.html)
 
　　![](../img/smalltitle.png) [计算最短路径](ShortPath.html) 
   
　　![](../img/smalltitle.png) [两点最短地表路径](TwoPointDis.html) 
    
 


